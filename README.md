# TestGen

Универсальная CLI-утилита для генерации и запуска тестов для различных языков программирования. TestGen значительно ускоряет разработку через тестирование (TDD), анализируя ваш код и автоматически создавая заготовки тестов.

## Оглавление

- [Особенности проекта](#особенности-проекта)
- [Установка](#установка)
- [Использование](#использование)
  - [Инициализация проекта](#инициализация-проекта)
  - [Генерация тестов](#генерация-тестов)
  - [Запуск тестов](#запуск-тестов)
  - [Генерация отчетов](#генерация-отчетов)
  - [Интеграция с CI/CD](#интеграция-с-cicd)
- [Поддерживаемые языки](#поддерживаемые-языки)
- [Пример интерфейса](#пример-интерфейса)
- [Разработка](#разработка)
- [Лицензия](#лицензия)

## Особенности проекта

* **Автоматическое определение языка программирования** проекта на основе файлов и структуры
* **Интеллектуальный анализ кода** — распознает функции, классы, методы и их сигнатуры
* **Генерация тестов для различных языков программирования**:
  * Python (pytest, unittest)
  * JavaScript (Jest)
  * Go (testing)
  * Java (JUnit)
  * Ruby (RSpec)
  * PHP (PHPUnit)
  * C# (NUnit, xUnit, MSTest)
  * Rust (Cargo Test)
* **Настраиваемые шаблоны тестов** для каждого языка и фреймворка
* **Запуск тестов через стандартные тест-раннеры** с унифицированным интерфейсом
* **Собственный тестраннер с фильтрацией тестов** по именам и шаблонам
* **Удобный интерфейс в терминале** с цветовым выделением, таблицами и прогресс-барами
* **Интеграция с CI/CD системами** (GitHub Actions, GitLab CI и др.)
* **Генерация отчетов** в различных форматах (HTML, Markdown, текстовый)

## Установка

### Вариант 1: Установка из PyPI

```bash
pip install testgen
```

### Вариант 2: Установка из исходников

```bash
git clone https://github.com/yourusername/testgen.git
cd testgen
pip install -r requirements.txt
pip install -e .
```

### Вариант 3: Установка готового бинарника

Скачайте последнюю версию с [GitHub Releases](https://github.com/yourusername/testgen/releases) и распакуйте архив или запустите инсталлятор.

#### Системные требования:
* Python 3.7 или выше
* pip (для установки зависимостей)

## Использование

### Инициализация проекта

```bash
testgen init [--lang ЯЗЫК] [--framework ФРЕЙМВОРК]
```

Инициализирует тестовое окружение в проекте, автоматически определяя язык программирования или используя указанный.

### Генерация тестов

```bash
testgen gen [ПУТЬ] --lang [ЯЗЫК] --framework [ФРЕЙМВОРК] --output [ВЫХОДНАЯ_ДИРЕКТОРИЯ]
```

Параметры:
* `ПУТЬ` — путь к файлам для генерации тестов (по умолчанию: текущая директория)
* `--lang` или `-l` — язык программирования (python, javascript, go и т.д.)
* `--framework` или `-f` — тестовый фреймворк (pytest, unittest, jest и т.д.)
* `--output` или `-o` — директория для сохранения тестов

Примеры:

```bash
# Генерация тестов для Python с pytest
testgen gen ./src --lang python --framework pytest --output ./tests

# Генерация тестов для JavaScript с Jest
testgen gen ./src --lang javascript --output ./tests

# Автоматическое определение языка и фреймворка
testgen gen ./src
```

### Запуск тестов

```bash
testgen run [ПУТЬ] [--verbose] [--custom] [--include ШАБЛОНЫ] [--exclude ШАБЛОНЫ]
```

Параметры:
* `ПУТЬ` — путь к тестам для запуска (по умолчанию: текущая директория)
* `--verbose` или `-v` — подробный вывод
* `--custom` или `-c` — использовать собственный тестраннер
* `--include` или `-i` — шаблоны для включения тестов (через запятую)
* `--exclude` или `-e` — шаблоны для исключения тестов (через запятую)

Примеры:

```bash
# Запуск всех тестов в директории
testgen run ./tests

# Запуск тестов с фильтрацией
testgen run ./tests --custom --include "test_*" --exclude "test_skip_*"

# Подробный вывод
testgen run ./tests --verbose
```

### Генерация отчетов

```bash
testgen report --format [ФОРМАТ] --output [ВЫХОДНАЯ_ДИРЕКТОРИЯ]
```

Параметры:
* `--format` — формат отчета (html, markdown, text)
* `--output` — директория для сохранения отчета

### Интеграция с CI/CD

```bash
testgen ci --type [ТИП] --output [ВЫХОДНАЯ_ДИРЕКТОРИЯ]
```

Параметры:
* `--type` — тип CI системы (github, gitlab, jenkins)
* `--output` — директория для сохранения конфигурации

## Поддерживаемые языки

| Язык       | Тестовые фреймворки              |
|------------|----------------------------------|
| Python     | pytest, unittest                 |
| JavaScript | Jest, Mocha                      |
| Go         | testing                          |
| Java       | JUnit, TestNG                    |
| Ruby       | RSpec, Minitest                  |
| PHP        | PHPUnit                          |
| C#         | NUnit, xUnit, MSTest             |
| Rust       | Cargo Test                       |

## Пример интерфейса

При запуске тестов:

```
╭────────────────────────────────────╮
│ Запуск тестов из директории: tests │
╰────────────────────────────────────╯
Найдено тестов: 13
⠙ Выполнение тестов... 7/13

    Результаты тестирования    
┏━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━┓
┃ Метрика          ┃ Значение ┃
┡━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━┩
│ Всего тестов     │ 13       │
│ Успешно          │ 11       │
│ Падений          │ 1        │
│ Ошибок           │ 1        │
│ Пропущено        │ 0        │
│ Время выполнения │ 0.23 сек │
└──────────────────┴──────────┘

Падения:
1. test_module.TestClass.test_failure

Ошибки:
1. test_module.TestClass.test_error
   Traceback (most recent call last):
ValueError: Пример ошибки

Тесты завершились с ошибками!
```

## Разработка

### Структура проекта

* `cmd/` — CLI-команды и интерфейсы
* `langs/` — модули для работы с разными языками программирования
* `testengines/` — модули для запуска тестов
* `ui/` — пользовательский интерфейс (TUI)
* `tests/` — тесты для самого проекта

### Как внести вклад

1. Форкните репозиторий
2. Создайте ветку для вашей функциональности
3. Внесите изменения и добавьте тесты
4. Убедитесь, что все тесты проходят
5. Создайте Pull Request

### Запуск тестов

```bash
pip install -e .[dev]
pytest
```

## Лицензия

Этот проект распространяется под лицензией Apache 2.0. Смотрите файл [LICENSE](LICENSE) для получения дополнительной информации.
